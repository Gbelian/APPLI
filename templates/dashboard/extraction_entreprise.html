{% extends "base/base.html" %}

{% block content %}
<div class="row filterGroup">

    <form action="{{ url_for('extraction_entreprise') }}" method="POST" class="formSearch fl">
        <input type="text" class="inputSearch" name="search" placeholder="Search">
        <button type="submit" class="btnSearch"><i class="fa fa-search"></i></button>
    </form>

    <div class="areaFilter fr row">

        <div class="boxSelect fr">
            <div class="titleSelect">Sort by</div>
            <ul class="optionSelect">
                <li><a href="{{ url_for('extraction_entreprise', sort_by='alphabet') }}">Alphabet</a></li>
                <li><a href="{{ url_for('extraction_entreprise', sort_by='chiffre_affaire_asc') }}">Chiffre d'affaire, Ascending</a></li>
                <li><a href="{{ url_for('extraction_entreprise', sort_by='chiffre_affaire_desc') }}">Chiffre d'affaire, Descending</a></li>
                <li><a href="{{ url_for('extraction_entreprise', sort_by='latest') }}">Latest</a></li>
            </ul>
        </div>
        <!-- FILTER -->
        <div class="btnFilter fr bg-fff"><span class="fa fa-filter"></span>Filter</div>
        <div class="boxFilter">
            <div class="btnFilter"><span class="fa fa-close"></span>Close</div>
            <!-- GROUP -->
            <form action="{{ url_for('extraction_entreprise') }}" method="post">
            <div class="groupInput">
                <select name="secteur_activite">
                    <option value="">Secteur</option>
                    <!-- Dynamiquement charger les options depuis la base de données -->
                    {% for secteur in secteurs_activite_uniques %}
                        <option value="{{ secteur }}">{{ secteur }}</option>
                    {% endfor %}
                </select> 
                <select name="ville">
                    <option value="">Ville</option>
                    <!-- Dynamiquement charger les options depuis la base de données -->
                    {% for ville in villes_uniques %}
                        <option value="{{ ville }}">{{ ville }}</option>
                    {% endfor %}
                </select>
                <select name="type">
                    <option value="">Type</option>
                    <!-- Dynamiquement charger les options depuis la base de données -->
                    {% for type_contact in types_contacts_uniques %}
                        <option value="{{ type_contact }}">{{ type_contact }}</option>
                    {% endfor %}
                </select>
                <select name="departement">
                    <option value="">Departement</option>
                    <!-- Dynamiquement charger les options depuis la base de données -->
                    {% for departement in departements_uniques %}
                        <option value="{{ departement }}">{{ departement }}</option>
                    {% endfor %}
                </select>
                <select name="commune">
                    <option value="">Commune</option>
                    <!-- Dynamiquement charger les options depuis la base de données -->
                    {% for commune in communes_uniques %}
                        <option value="{{ commune }}">{{ commune }}</option>
                    {% endfor %}
                </select>
                <select name="localite">
                    <option value="">Localite</option>
                    <!-- Dynamiquement charger les options depuis la base de données -->
                    {% for localite in localites_uniques %}
                        <option value="{{ localite }}">{{ localite }}</option>
                    {% endfor %}
                </select>
                <button type="submit" class=""><i class="fa fa-search"></i></button>
            </div>
          </form>            
            
        </div>
    </div>
</div>

    <div class="formHeader row">
        <h2 class="text-1 fl">Entreprise List</h2>
        <div class="fr">
         <a href="{{ url_for('export_excel') }}" class="btnSave bg-1 text-fff text-bold fr">SAVE</a>
        </div>
    </div>
    
    <div class="table">
        <div class="row bg-1">
            <div class="cell cell-50 text-center text-fff">ID</div>
            <div class="cell cell-100 text-center text-fff"></div>
            <div class="cell cell-100 text-fff">NOM</div>
            <div class="cell cell-50 text-center text-fff"></div>
            <div class="cell cell-50 text-center text-fff"></div>
            <div class="cell cell-50 text-center text-fff"></div>
            <div class="cell cell-50 text-center text-fff"></div>
            <div class="cell cell-100 text-fff"></div>
            <div class="cell cell-100 text-fff"></div>
            <div class="cell cell-100 text-fff">EMAIL</div>
            <div class="cell cell-100 text-fff"></div>
            <div class="cell cell-100 text-center text-fff"><input type="checkbox" class="checkbox checkAll" name="statusAll" target=".status"></div>
            <div class="cell cell-100 text-center text-fff">EDIT</div>
        </div>
    <!--   BEGIN LOOP -->
        <ul>
            {% for entreprise in entreprises %}
            <li class="row">
                <div class="cell cell-100 text-center">{{ entreprise['id'] }}</div>
                <div class="cell cell-100p"><a href="">{{ entreprise['Nom'] }}</a></div>
                <div class="cell cell-100p"><a href="">{{ entreprise['Mail'] }}</a></div>
                <div class="cell cell-100 text-center">
                    <input type="hidden" class="status" name="status" value="0">
                    <input type="checkbox" class="btnSwitch status" name="status">
                </div>
                <div class="cell cell-100 text-center">
                    <a href="{{ url_for('edit_entreprise', entreprise_id=entreprise['id']) }}" class="btnEdit fa fa-pencil bg-1 text-fff">E</a>
                    <form method="post" action="{{ url_for('delete_entreprise', entreprise_id=entreprise['id']) }}" onsubmit='return confirm("Do you really want to remove it?")'>
                        <button type="submit" class="btnRemove fa fa-remove bg-1 text-fff" title="Delete">D</button>
                    </form>
                </div>             
            </li>
        {% endfor %}
        </ul>
    <!--   END LOOP -->
    </div>
<!-- DETAIL FORM -->
<form action="" method="POST" enctype="multipart/form-data" class="form">
    <div class="formHeader row">
        <h2 class="text-1 fl">Product Detail</h2>
        <div class="fr">
            <button type="submit" class="btnSave bg-1 text-fff text-bold fr">SAVE</button><a href="" class="btnAdd fa fa-plus bg-1 text-fff"></a>
        </div>
    </div>
    <div class="formBody row">
        <div class="column s-6">
            <label class="inputGroup">
                <span>Name</span>
                <span><input type="text" name="name"></span>
            </label>
            <label class="inputGroup">
                <span>Code</span>
                <span><input type="text" name="code"></span>
            </label>
            <label class="inputGroup">
                <span>Price</span>
                <span><input type="text" name="price"></span>
            </label>
            <label class="inputGroup">
                <span>Note</span>
                <span><input type="text" name="note"></span>
            </label>
        </div>
        <div class="column s-6">
            <label class="inputGroup">
                <span>Category</span>
                <span>
                    <select name="cate">
                        <option value="cate01">Category01</option>
                        <option value="cate02">Category02</option>
                    </select>
                    <i class="btnNewInput fa fa-plus bg-1 text-fff"></i>
                </span>
            </label>
            <label class="inputGroup hide">
                <span>Brand</span>
                <span>
                    <input type="text" name="cate">
                    <select name="brand">
                        <option value="cate01">Brand01</option>
                        <option value="cate02">Brand02</option>
                    </select>
                </span> 
            </label>
            <label class="inputGroup">
                <span>Image</span>
                <input type="hidden" name="img" value="src">
                <span>
                    <input type="file" name="img" onchange="getImg(this)" multiple>
                    <img src="http://bookstore.crunchpress.com/wp-content/uploads/2013/05/b2.jpg" alt="" width="50">
                </span>
                
            </label>
        </div>
      <div class="column">
          <label class="inputGroup">
              <span>Description</span>
              <textarea name="description"></textarea>
          </label>
      </div>
    </div>
</form> 

<div id="pagination">
    <ul class="pagination list-inline text-center">
        <li><a href="?page=1">1</a></li>
        <li class="is-active"><a href="?page=2">2</a></li>
        <li><a href="?page=3">3</a></li>
        <li><a href="?page=4">4</a></li>
        <li><a href="?page=5">5</a></li>
    </ul>
</div>  

{% endblock %}
